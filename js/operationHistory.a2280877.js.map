{"version":3,"file":"js/operationHistory.a2280877.js","mappings":"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","sources":["webpack://h5-u2/./src/api/request.js","webpack://h5-u2/./src/utils/utils.js","webpack://h5-u2/./src/components/Table.vue","webpack://h5-u2/./src/components/Table.vue?7a8d","webpack://h5-u2/./src/utils/cols.js","webpack://h5-u2/./src/views/operationHistory.vue","webpack://h5-u2/./src/views/operationHistory.vue?ac72"],"sourcesContent":["import axios from 'axios'\nimport { ElMessage } from 'element-plus'\n// 配置项\n// http://192.168.1.135:3868 http://192.168.1.199:3868\nconst axiosOption = {\n    baseURL: process.env.NODE_ENV === \"production\" ? location.origin : 'http://192.168.1.130:3868',\n    // baseURL: 'localhost',\n    timeout: 5000\n}\n\n// 创建一个单例\nconst instance = axios.create(axiosOption);\n\n// 添加请求拦截器\ninstance.interceptors.request.use(function (config) {\n  if(config.method === 'get' && config.url !== '/api/login') {\n    if(localStorage.getItem('os-token')) {\n      if(!config.params) config.params = {}\n      Object.assign(config.params, { token: localStorage.getItem('os-token' )})\n    } else {\n      ElMessage({\n        message: '请先登录',\n        type: 'warning',\n      })\n      localStorage.clear()\n    }\n  }\n  return config;\n}, function (error) {\n  // 对请求错误做些什么\n  return Promise.reject(error);\n});\n\n// 添加响应拦截器\ninstance.interceptors.response.use(function (response) {\n  // 对响应数据做点什么\n  if(response.data.ret === 1) {\n    ElMessage({\n      message: '请先登录',\n      type: 'warning',\n    })\n    // localStorage.clear()\n    // setTimeout(() => location.href = '/login', 1500)\n  }\n  // if(response.ret === 4) {\n  //   message.warning(response.msg)\n  // }\n  return response.data;\n}, function (error) {\n  // 对响应错误做点什么\n  return Promise.reject(error);\n});\n\nexport default instance;","export function getArray(interval = 0, start = new Date(), end = new Date()) {\n  start.setDate(start.getDate() - interval);\n  end.setDate(end.getDate() + interval);\n  var array = [];\n  var dataArr = [];\n  var weeks = ['日', '一', '二', '三', '四', '五', '六'];\n  var num = 0;\n  while((end.getTime() - start.getTime()) >= 0) {\n    num ++;\n    var month = (start.getMonth() + 1).toString().length == 1 ? \"0\" + (start.getMonth() + 1).toString() : (start.getMonth() + 1);\n    var day = start.getDate().toString().length == 1 ? \"0\" + start.getDate() : start.getDate();\n    var week = weeks[start.getDay()];\n    dataArr.push(month + \"月\" + day + '日（周' + week + '）');\n    var obj = {};\n    if(num == 1){\n      obj.week = '今天';\n    }else{\n      obj.week = '周'+week;\n    }\n    obj.date = new Date().getFullYear()+'-'+month + '-' + day;\n    obj.date2 = month + '-' + day;\n    array.push(obj);\n    start.setDate(start.getDate() + 1);\n  }\n  return array;\n}\n\nexport function format(array) {\n  return array.map((item) => {\n    return {\n      title: item.date.slice(5),\n      dataKey: item.date,\n      key: item.date,\n      width: 60\n    }\n  })\n}\n\n//获取两日期之间日期列表函数\nexport function getDiffDate(stime,etime){\n    //初始化日期列表，数组\n  var diffDate = new Array();\n  var i=0;\n  //开始日期小于等于结束日期,并循环\n  while(stime<=etime){\n      diffDate[i] = stime;\n      //获取开始日期时间戳\n      var stime_ts = new Date(stime).getTime();\n      //增加一天时间戳后的日期\n      var next_date = stime_ts + (24*60*60*1000);\n\n      //拼接年月日，这里的月份会返回（0-11），所以要+1\n      var next_dates_y = new Date(next_date).getFullYear()+'-';\n      var next_dates_m = (new Date(next_date).getMonth()+1 < 10)?'0'+(new Date(next_date).getMonth()+1)+'-':(new Date(next_date).getMonth()+1)+'-';\n      var next_dates_d = (new Date(next_date).getDate() < 10)?'0'+new Date(next_date).getDate():new Date(next_date).getDate();\n      stime = next_dates_y+next_dates_m+next_dates_d;\n      //增加数组key\n      i++;\n  }\n  diffDate[0] = diffDate[0].slice(0, 10)\n  return diffDate;\n}\n\n\nexport function randomColorAndNotRed() {\n  var r = Math.floor(Math.random() * 200)\n  var g = Math.floor(Math.random() * 206 + 50)\n  var b = Math.floor(Math.random() * 206 + 50)\n  return `rgb(${r},${g},${b})`\n}\n\nexport function transformBeginTime(interval) {\n  return getFormatDateTime(interval)\n}\n\nexport function getFormatDateTime(interval){\n  var date = new Date();\n  date.setDate(date.getDate() - interval);\n  var year= date.getFullYear();\n  var month = date.getMonth() + 1;\n\n  var day = date.getDate();\n  var hour = date.getHours();\n  var minute = date.getMinutes();\n  var second = date.getSeconds();\n  return [year, '-', month < 10 ? `0${month}` : month , '-', day < 10 ? `0${day}` : day, ' ', hour < 10 ? `0${hour}` : hour , ':', minute < 10 ? `0${minute}` : minute, ':', second < 10 ? `0${second}` : second ].join('');\n}\n\nexport function transformJSON(str) {\n  return (new Function(\"return \" + str))()\n}\n\nexport function range(str) {\n  let [start, end] = str.split('-')\n  start = parseInt(start)\n  end = parseInt(end)\n  let length = end - start + 1;\n  let step = start - 1;\n  return Array.apply(null,{length:length}).map((v,i) => { step++; return step;});\n}","<template>\n  <div class=\"table\" @click=\"hidePop\">\n    <el-table\n      ref=\"table\"\n      style=\"width: 100%\"\n      :data=\"props.data\"\n    >\n      <template v-if=\"props.columns[0].type != 'expand'\" #default>\n        <el-table-column v-for=\"col in props.columns\" :key=\"col.prop\" :prop=\"col.prop\" :label=\"col.label\" :width=\"col.width\">\n          <template #default=\"scope\" v-if=\"col.prop === 'operation'\">\n            <el-space v-for=\"(op, idx) in col.operation\" :key=\"idx\">\n              <el-popover v-if=\"op.text === '删除'\" :visible=\"visible[scope.$index]\" placement=\"top\" :width=\"160\" trigger=\"hover\">\n                <p>请输入你想要删除的数量</p>\n                <el-input-number placeholder=\"请输入数量\" v-model=\"num\" :min=\"1\" size=\"small\"/>\n                <div style=\"text-align: right; margin: 0\">\n                  <el-button size=\"small\" text @click=\"visible[scope.$index] = false\">取消</el-button>\n                  <el-button size=\"small\" type=\"primary\" @click=\"op.onClick(scope.row, scope.$index, num);visible[scope.$index] = false\"\n                    >确认</el-button\n                  >\n                </div>\n                <template #reference>\n                  <el-button size=\"small\" :type=\"op.type\" @click=\"num = 1;visible[scope.$index] = true\"\n                    >{{ op.text }}</el-button>\n                </template>\n              </el-popover>\n            </el-space>\n          </template>\n        </el-table-column>\n      </template>\n      <template v-else #default>\n        <el-table-column type=\"expand\" :width=\"50\">\n          <template #default=\"data\" >\n            <el-table :data=\"exTable[data.$index]\">\n              <el-table-column v-for=\"col in props.columns[0].cols[data?.row?.type - 1]\" :key=\"col.prop\" :prop=\"col.prop\" :label=\"col.label\" :width=\"col.width\" />\n            </el-table>\n          </template>\n        </el-table-column>\n        <el-table-column v-for=\"col in props.columns.slice(1)\" :key=\"col.prop\" :prop=\"col.prop\" :label=\"col.label\" :width=\"col.width\">\n          <template #default=\"scope\" v-if=\"col.prop === 'operation'\">\n            <el-space v-for=\"(op, idx) in col.operation\" :key=\"idx\">\n              <el-button size=\"small\" @click=\"op.onClick(scope.row, scope.$index)\" :type=\"op.type\"\n                >{{ op.text }}</el-button\n              >\n            </el-space>\n          </template>\n        </el-table-column>\n      </template>\n      \n    </el-table> \n    <el-pagination \n      v-if=\"page\" \n      layout=\"prev, pager, next\" \n      :total=\"total || 0\" \n      background \n      @current-change=\"handleCurrentChange\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref,defineProps, watch } from \"vue\"\nimport { transformJSON } from '@/utils/utils'\nconst props = defineProps({\n  data: {\n    type: Array,\n    require: true\n  },\n  columns: {\n    type: Array,\n    require: true\n  },\n  page: Boolean,\n  total: Number\n})\nconst exTable = ref([])\nwatch(() => props.data, (list) => {\n  if(props.columns[0].type == 'expand') {\n    exTable.value = list.map(item => {\n      if(item.paramStr) {\n        if(item.type == 5) {\n          const obj = JSON.parse(item.paramStr)\n          obj.uidList = item.uidList || item.uid\n          return [obj]\n        }\n        return [JSON.parse(item.paramStr)]\n      }\n      \n    })\n  }\n})\n\nconst emits = defineEmits(['changePage'])\nconst table = ref(null)\nconst visible = ref([])\nconst num = ref(1)\nconst handleCurrentChange = (val) => {\n  emits('changePage', val)\n}\n\nconst hidePop = () => {\n  visible.value = []\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.table {\n  .input-number {\n    margin-bottom: 10px;\n  }\n  .el-pagination {\n    margin-top: 10px;\n    justify-content: center;\n  }\n}\n</style>\n","import script from \"./Table.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Table.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Table.vue?vue&type=style&index=0&id=79ac3e0f&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/h5-u2/h5-u2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-79ac3e0f\"]])\n\nexport default __exports__","export default [\n  [{\n    prop: 'coinID',\n    label: '货币ID',\n  },\n  {\n    prop: 'name',\n    label: '名称',\n  },\n  {\n    prop: 'nums',\n    label: '数量',\n  },\n  {\n    prop: 'num',\n    label: '操作数量'\n  }],\n  [{\n    prop: 'DescId',\n    label: '英雄ID'\n  },\n  {\n    prop: 'SerialNum',\n    label: '唯一ID'\n  },\n  {\n    prop: 'nickname',\n    label: '称号'\n  },\n  {\n    prop: 'Star',\n    label: '品质'\n  },\n  {\n    prop: 'Level',\n    label: '等级'\n  },\n  {\n    prop: 'SuperEvolve',\n    label: '是否超进化'\n  },\n  {\n    prop: 'SuperEvolveLevel',\n    label: '超进化等级'\n  },\n  {\n    prop: 'TempWeaponLevel',\n    label: '专武等级'\n  },\n  {\n    prop: 'num',\n    label: '操作数量'\n  }],\n  [\n    {\n      prop: 'Id',\n      label: '背包道具ID'\n    },\n    {\n      prop: 'name',\n      label: '名称'\n    },\n    {\n      prop: 'Count',\n      label: '数量'\n    },\n    {\n      prop: 'num',\n      label: '操作数量'\n    }\n  ],\n  [\n    {\n      prop: 'DescId',\n      label: '背包装备ID'\n    },\n    {\n      prop: 'SerialNum',\n      label: '唯一ID'\n    },\n    {\n      prop: 'name',\n      label: '名称'\n    },\n    {\n      prop: 'State',\n      label: '品质'\n    },\n    {\n      prop: 'Level',\n      label: '强化等级'\n    },\n    {\n      prop: 'num',\n      label: '操作数量'\n    }\n  ],\n  [\n    {\n      prop: 'uidList',\n      label: 'uidList'\n    },\n    {\n      prop: 'opId',\n      label: 'opId'\n    }\n  ]\n]","<template>\n  <div class=\"hero\">\n    <el-form :inline=\"true\" :model=\"form\" label-width=\"120px\">\n      <el-form-item label=\"uid\">\n        <el-input placeholder=\"请输入uid\" v-model=\"form.uid\" style=\"width: 200px\"/>\n      </el-form-item>\n      <el-form-item label=\"操作类型\">\n        <el-input placeholder=\"请输入操作类型\" v-model=\"form.type\" style=\"width: 200px\"/>\n      </el-form-item>\n      <el-form-item label=\"操作人员账号\">\n        <el-input placeholder=\"请输入操作人员账号\" v-model=\"form.opUser\" style=\"width: 200px\"/>\n      </el-form-item>\n      <el-form-item label=\"操作物品ID\">\n        <el-input placeholder=\"请输入操作物品ID\" v-model=\"form.opId\" style=\"width: 200px\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"search\">搜索</el-button>\n      </el-form-item>\n    </el-form>\n    <Table :data=\"data\" :columns=\"columns\" page :total=\"total\" @change-page=\"changePage\" />\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from \"@vue/reactivity\"\nimport Table from \"../components/Table.vue\"\nimport cols from \"@/utils/cols\";\nimport { onMounted } from \"vue\";\nimport axios from \"@/api/request\";\nimport { fromByteArray } from \"ipaddr.js\";\n\nconst OPTYPE = {\n  1: '删除',\n  2: '新增'\n}\nconst TYPE = {\n  1: '货币',\n  2: '英雄',\n  3: '背包道具',\n  4: '背包装备',\n  5: 'vip活动'\n}\nconst total = ref(0)\nconst form = reactive({\n  uid: '',\n  type: '',\n  opUser: '',\n  opId: ''\n})\nconst search = () => {\n  getData()\n}\n\nonMounted(async () => {\n  await getData()\n})\nconst getData = async (pageIndex = 1 ) => {\n  const { data: tbData, count  } = await axios.get('/api/select_playerop', {\n    params: {\n      pageSize: 10,\n      pageIndex,\n      uid: form.uid,\n      type: form.type,\n      opUser: form.opUser,\n      opId: form.opId,\n    }\n  })\n  total.value = count\n  data.value = tbData.map(item => {\n    item.operationContent = OPTYPE[item.opType] + '【' + TYPE[item.type] + '】'\n    return item\n  })\n}\n\nconst changePage = (val) => {\n  getData(val)\n}\nconst data = ref([])\nconst columns = ref([\n  {\n    type: 'expand',\n    cols: cols,\n  },\n  {\n    prop: 'opUser',\n    label: '操作用户',\n  },\n  {\n    prop: 'uid',\n    label: 'UID',\n  },\n  {\n    prop: 'createTime',\n    label: '操作时间',\n  },\n  {\n    prop: 'operationContent',\n    label: '操作内容',\n  },\n])\n\n</script>\n\n<style lang=\"scss\" scoped>\n.hero{\n  width: 1800px;\n}\n</style>\n","import script from \"./operationHistory.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./operationHistory.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./operationHistory.vue?vue&type=style&index=0&id=19588a68&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/h5-u2/h5-u2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-19588a68\"]])\n\nexport default __exports__"],"names":["axiosOption","baseURL","location","origin","timeout","instance","axios","interceptors","request","use","config","method","url","localStorage","getItem","params","Object","assign","token","ElMessage","message","type","clear","error","Promise","reject","response","data","ret","getArray","interval","start","Date","end","setDate","getDate","array","dataArr","weeks","num","getTime","month","getMonth","toString","length","day","week","getDay","push","obj","date","getFullYear","date2","format","map","item","title","slice","dataKey","key","width","getDiffDate","stime","etime","diffDate","Array","i","stime_ts","next_date","next_dates_y","next_dates_m","next_dates_d","transformBeginTime","getFormatDateTime","year","hour","getHours","minute","getMinutes","second","getSeconds","join","transformJSON","str","Function","range","split","parseInt","step","apply","v","exTable","ref","watch","props","list","columns","value","paramStr","JSON","parse","uidList","uid","table","visible","handleCurrentChange","val","emits","hidePop","__exports__","prop","label","OPTYPE","TYPE","total","form","reactive","opUser","opId","search","getData","onMounted","async","pageIndex","tbData","count","pageSize","operationContent","opType","changePage","cols"],"sourceRoot":""}